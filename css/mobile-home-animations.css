/* Mobile Home Animations - Touch Effects */

/* Efekt aktywnego dotknięcia */
.touch-active {
    opacity: 0.8 !important;
    transform: scale(0.95) !important;
    transition: all 0.1s ease !important;
}

/* Poprawki dla kafelków na mobile */
.tile {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
}

/* Animacja kliknięcia kafelka */
.tile.touch-active {
    transform: translateY(-3px) scale(0.97) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2) !important;
}

/* Zapobiegaj problemom z hover na mobile */
@media (hover: none) and (pointer: coarse) {
    .tile:hover {
        transform: none;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .tile:active {
        transform: translateY(-3px) scale(0.97);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
}

/* Efekty dla przycisków na mobile */
.check-btn,
.clear-btn,
.calculate-btn,
.operation-btn,
.method-btn,
.help-button,
.back-btn,
.menu-btn,
.auth-btn,
.dashboard-btn,
.profile-hero-btn,
.action-btn,
.modal-btn,
.dock-btn,
.nav-btn {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
}

/* Animacje touch dla przycisków */
button.touch-active,
.btn.touch-active {
    transform: scale(0.92) !important;
    opacity: 0.85 !important;
}

/* Efekty dla elementów nawigacyjnych */
.sidebar-nav-item,
.menu-item,
.submenu-item,
.lang-menu div,
.operation-menu-item {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
}

.sidebar-nav-item.touch-active,
.menu-item.touch-active,
.submenu-item.touch-active {
    background: rgba(224, 122, 95, 0.3) !important;
}

/* Ripple effect dla kafelków */
@keyframes ripple {
    0% {
        transform: scale(0);
        opacity: 0.8;
    }
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

.tile::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    pointer-events: none;
}

.tile.touch-active::after {
    animation: ripple 0.6s ease-out;
}

/* Optymalizacja wydajności dla animacji */
.tile,
.touch-active {
    will-change: transform, opacity;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* Dostosowania dla bardzo małych ekranów */
@media (max-width: 480px) {
    .tile {
        min-height: 100px;
        touch-action: manipulation;
    }
    
    .tile-icon {
        font-size: 2.2rem;
        pointer-events: none;
    }
    
    .tile-label {
        font-size: 1rem;
        pointer-events: none;
    }
}

/* Landscape mode adjustments */
@media (max-height: 500px) and (orientation: landscape) {
    .tile {
        height: 100px;
        padding: 10px;
    }
    
    .tile-icon {
        font-size: 2rem;
        margin-bottom: 8px;
    }
    
    .tile-label {
        font-size: 0.9rem;
    }
}

/* Zapobiegaj konfliktom z iOS Safari */
@supports (-webkit-touch-callout: none) {
    .tile,
    button,
    .nav-item {
        cursor: pointer;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }
}

/* Smooth transitions dla lepszego UX */
.tile,
button,
.nav-item {
    transition: transform 0.15s ease, opacity 0.15s ease, box-shadow 0.15s ease;
}

/* Specjalne efekty dla dashboard buttons */
.dashboard-btn,
.dashboard-back-btn,
.dashboard-close-btn {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
}

.dashboard-btn.touch-active,
.dashboard-back-btn.touch-active,
.dashboard-close-btn.touch-active {
    transform: scale(0.95) !important;
    opacity: 0.9 !important;
}

/* Zapobiegaj problemom z bubblowaniem eventów w menu mobilnym */
.mobile-dashboard *,
.dashboard-submenu * {
    -webkit-tap-highlight-color: transparent;
}

/* Poprawki dla nav-bar buttons na mobile */
.nav-btn,
.user-btn,
.theme-toggle-btn,
.lang-btn {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* Poprawki dla dock buttons */
.dock-btn {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    touch-action: manipulation;
}

.dock-btn:active {
    transform: scale(0.9);
    opacity: 0.8;
}
